# Collective cheatsheet

## Binominal:

```{r}
numberOfItems <- 2
success <- 0
prob <- 0.5

#Calculate the probability of x sucsess, when pulling n numberOfItems
#where the probability of sucsess is prob.

#Beregn sandsynligheden for x succeser, når der vælges n antal ting
#Og sandsynligheden for en succses er prob.

pbinom(success,numberOfItems,prob)
```

## Hyper

Probability

```{r}
Type1Drawn <- 1
Type1All <- 2
Type2All <- 2
AllDrawn <- 2

#The probability of having drawn x Type1Drawn, in a draw of n AllDrawn.
#Where there are x of Type1All and x of Type2All to choose from.

dhyper(x=Type1Drawn, m=Type1All, n=Type2All, k=AllDrawn)

```

Variance

```{r}

#Calculate the variance given a probability (p) and number of participants (n)
n <- 25
p <- 0.8

#variance
n*p*(1-p)

```

## Poisson

## Chi Squared
```{r}
NumberOfRows <- 4
NumberOfColumns <- 3

degreeFreedom <- (NumberOfRows-1)*(NumberOfColumns-1)
degreeFreedom


#enter as columns
M <- as.table(cbind(c(4675,2222,2750,2040),c(171,95,49,47),c(76,1,2,1)))
M

chisq.test(M)

```


## One way Anova

## Two way Anova

## Exponential

## Simulation af sandsynlighed

Givet en normalfordeling, hvad er sandsynligheden for at et tal er over x?

Fks givet:\
mean = 20, sd= 5

Hvad er sansynligheden for at et givet tal er over 25?

Dette kan gøres med simulation hvis man ikke kan huske formlen

```{r}
n <- 10000
data <- rnorm(n,mean=20, sd=5)
stor = function(x) {
  x > 25
}
sum(sapply(data,stor)) / n

```

Her er stor en funktion som returnerer en boolean om tallet er større end 25. Ved at summe dem alle op tæller man hvor mange der er sande. Sandsynligheden er derfor antal sande / antal.

### Sum af sandsynlighed

Hvis der skal tages summen af to sandsynligheder, hvor de er normalfordelt kan man bare udregne den nye normalfordeling.

Givet en normalfordelint X og Y hvor:

X = N(20,5²)\
Y = N(50,10²)

Kan den nye normalfordeling hvor der er 1. af hver være:

NY = N(20+50, sqrt(5² + 10²)²)

NY = N(70,sqrt(125)²)

## Confidence interval

Mean

## Normal

## Confidence interval

Mean

```{r}
lower <- 2.26
upper <- 5.26
  
#Calculate the mean from a lower and an upper bound of a confidence interval of the mean
(lower+upper)/2
#Note you cannot know the sample mean from simulated data

```

Calculate confidence interval

```{r}
n <- 10
mean <- 0
sd <- 0
standardError <- 945.5

#Calculate qt
numberOfItems <- 2
degreeFreedom <- n-numberOfItems
qt <- qt(0.975,degreeFreedom)
qt
#confidence interval
mean + c(-1,1)* qt * sd/sqrt(n)
mean + c(-1,1)* qt * standardError


#Given qt 
qt <- 0

mean + c(-1,1)* qt * sd/sqrt(n)
mean + c(-1,1)* qt * standardError

```

## Linear Simulation

Variance

```{r}
#Simulate to get variance, normal distribution
#given 2*Y + 2*X + 4

k <- 800000

MeanX <- 10
SdX <- sqrt(4)

MeanY <- 20
SdY <- sqrt(25)

X <- rnorm(k,MeanX,SdX)
Y <- rnorm(k,MeanY,SdY)

z <- 2* Y + 2*X +4

var(z)
```

Standard Divination

```{r}
#Simulate to get Standard Divination, normal distribution
#given 2*Y^2 + X^3/3

k <- 800000

MeanX <- 10
SdX <- sqrt(4)

MeanY <- 20
SdY <- sqrt(25)

X <- rnorm(k,MeanX,SdX)
Y <- rnorm(k,MeanY,SdY)

z <- 2*Y^2 + X^3/3

sd(z)
```

## test statistic

Calculate tobs

```{r}
#Given n number of samples
#Given the actual mean or something similar
#Compared to the expected mean or something similar

n <- 20
actual <- 0
expected <- 0

# given standard deviation
sd <- -1
#beregn t_obs (tobs)
(actual - expected)/(sd/sqrt(n))



# given standard error
standardError <- 5.867*10^4
#beregn t_obs (tobs)
(actual - expected)/(standardError)
```

tobs on a certain p-value

```{r}
NumberOfSamples <- 20
degreeFreedom <- NumberOfSamples-1
pValue <- 0.001

qt(1-pValue/2,degreeFreedom)
qt(pValue/2,degreeFreedom)




```

## Linear Model:

I en linear model af

```{r}
lm(X ~ Y)
```

Gælder det at: X er dependent variable Y er explanatory variable

Beta_0 er (Intecept) estimate Beta_1 er Y estimate sigma er residual standard error.

Predictions ved x_0 udregnes som:

```{r}
sxx <- (n-1) * var(Y)
t_alpha <- qt(0.95, df=n-2) #alpha = 0.9
beta_0 + beta_1 * x_0 + c(-1,1) * t_alpha * res_err * sqrt(1+1/n + (x_0-mean(x)/ sxx))
```
